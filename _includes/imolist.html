{%- for i in site.data.imo -%}
<div class="row alert alert-primary">
  <div class="col-sm-3" id="IMO{{i.year}}"><strong>
    {%- if i.website -%}<a href="{{i.website}}" target="imo">{%endif%}
    {{i.year}}ë…„ {{i.year|minus: 1959}}íšŒ
    {%- if i.website -%}</a>{% endif %}</strong></div>
  <div class="col-sm-4 text-truncate">{{i.country|default:""}} {{i.city|default:""}}</div>
  <div class="col-sm-5 text-right" ><a href="http://www.imo-official.org/year_country_r.aspx?year={{i.year}}">{{ i.teams |append:"ê°œ" | default: ""}} ì°¸ê°€êµ­ ì¤‘ {{i.ranking}}ìœ„</a></div>
  </div> <!--row for year -->

  <!-- ë‹¨ì¥/ë¶€ë‹¨ì¥/ì°¸ê´€ì¸ -->
  {%- assign roles = site.data.teacher|where: "year",i.year |  map:"role"|uniq -%}
  {%- for r in roles -%}
  {%- if r=="í›„ë³´" -%}
  {%-continue-%}
  {%- endif -%}
  {%- assign teacher = site.data.teacher | where: "year", i.year | where:"role",r -%}
  <div class="teacher">
  <div class="row">
  <div class="col-sm-2 text-sm-right role">{{r}}</div>
   <div class="col-sm-10">
     {%- for  t in teacher -%}
     {% include linkpeople.html name=t.name aff=t.aff %}
     {% endfor %}
   </div>
   </div>  <!-- row for roles -->
   </div>
   {%-endfor-%}
   <!-- í•™ìƒ -->
   {%- assign students = site.data.imo-korea |where:"year",i.year|sort: "korname" -%}
   {%- for s in students -%}
   <div class="student">
    <div class="row">
     <div class="col-sm-2 text-sm-right text-nowrap role">ëŒ€í‘œí•™ìƒ</div>
     <div class="col-sm-8">{%- include linkpeople.html name=s.korname aff=s.school -%}
       <small class="small">{%-include history.html name=s.korname-%}</small>
     </div>
     <div class="col-sm-2 text-sm-right award"><a href="http://www.imo-official.org/participant_r.aspx?id={{s.id}}">{{s.rank}}ìœ„ 
       {%- case s.award -%}
       {%- when "Gold medal" -%}(ê¸ˆ)
       {%- when "Silver medal" -%}(ì€)
       {%- when "Bronze medal" -%}(ë™)
       {%- when "Honourable mention" -%}(ì¥ë ¤)
       {%- when "ê¸ˆ" -%}(ê¸ˆ)
       {%- when "ì€" -%}(ì€)
       {%- when "ë™" -%}(ë™)
       {%- when "ì¥ë ¤" -%}(ì¥ë ¤)
       {%-endcase-%}</a>
     </div>
     </div>

     {%- assign st =  site.data.people|where: "name",s.korname |first -%}
     {%- if st -%}
     <div class="row">
       <div class="col-sm-8 offset-sm-4 current">
	 {%- if st.website -%}
	 <a href="{{st.website}}">{%-endif-%}{{st.aff|strip_html}}{%-
	 if st.website -%}</a>{%-endif-%}
	 {%- if st.mathgen -%}
	 <a href="https://www.genealogy.math.ndsu.nodak.edu/id.php?id={{st.mathgen}}">ğŸ“</a>{%-endif-%}
       </div>
     </div>
     {%-endif -%}
     </div>
     {%-endfor -%}
  <!-- í›„ë³´ -->
     {%- assign teacher = site.data.teacher | where: "year", i.year | where:"role", "í›„ë³´" |sort:"name"-%}
     {%- assign tc=teacher|first %}
     {%if tc %}
  <div class="candidate">
  <div class="row">
  <div class="col-sm-2 text-sm-right role">í›„ë³´</div>
   <div class="col-sm-10">
     {%- for  t in teacher -%}
     {% include linkpeople.html name=t.name aff=t.aff %}
     {% endfor %}
   </div>
   </div>
   </div>
   {%endif%}
     
{%- endfor -%}
